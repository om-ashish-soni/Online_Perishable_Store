package driverProduct;

import java.io.IOException;

import customer.Customer;
import database.DataBase;
import date.Date;
import order.Order;
import order.OrderedItem;
import product.Food;
import product.Fruit;
import product.Product;
import product.Vegetable;

public class DriverProduct{
	public void drive() throws ClassNotFoundException, IOException{
		Product p1,p2,p3;
		p1=new Vegetable("Potato","The potato is one of some 150 tuber-bearing species of the genus Solanum");
		p2=new Food();
		p2.setName("Pizza");
		p2.setDescription(", dish of Italian origin consisting of a flattened disk of bread dough topped with some combination of olive oil, ");
		p3=new Fruit("Mango","A mango is a sweet tropical fruit");
        Date dt=new Date(30,12,2021);
        OrderedItem o1=new OrderedItem(p1,3);
        OrderedItem o2=new OrderedItem(p2,98);
        OrderedItem o3=new OrderedItem(p3,5);
        Order order1=new Order();
        order1.addOrderedItem(o1);   
        order1.setDate(dt);
        order1.addOrderedItem(o2);
        dt=new Date(25,12,2021);
        Order order2=new Order();
        order2.setDate(dt);
        order2.addOrderedItem(o3);
        // System.out.println(order1);
        // Order orderDuplicate=Order.getOrder(order2.getId());
        
        // System.out.println(orderDuplicate);
        Customer cust1=new Customer(" om ashish soni");
        cust1.addOrder(order1);
        Customer custDuplicate=Customer.getCustomer(cust1.id);
        custDuplicate.addOrder(order2);
        cust1.sortOrders();
//        System.out.println(custDuplicate);
        DataBase DB=new DataBase();
        DB.saveCustomer(cust1);
        Customer cust2=new Customer(" OAS");
        cust2.addOrder(order2);
        DB.saveCustomer(cust2);
        Customer loadedCustomer = null;
        try {
        	loadedCustomer = DB.loadCustomer(cust2.getId());
        }catch(Exception e) {
        	
        }
        
        System.out.print(loadedCustomer);
		System.out.println("Total number of products : "+Product.getNumberOfProducts());
	}
}